{% extends "widgets/basewidget.html" %}
{% load url from future %}

{% block widgetBody %}
<ul>
    {% if widget.params.orderby == '-createtime'%}
            {% if widget.params.titlelength > 0 %}

                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title|truncatechars:widget.params.titlelength}}</a></li>
                {% endfor %}

            {% else %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title}}</a></li>
                {% endfor %}

            {% endif %}


    {% elif widget.params.orderby == '-views' %}

            {% if widget.params.titlelength > 0 %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title|truncatechars:widget.params.titlelength}}({{postInfo.views}})</a></li>
                {% endfor %}

            {% else %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title}}({{postInfo.views}})</a></li>
                {% endfor %}

            {% endif %}

    {% elif widget.params.orderby == '-lastcommenttime' %}
            {% if widget.params.titlelength > 0 %}

                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title|truncatechars:widget.params.titlelength}}</a></li>
                {% endfor %}

            {% else %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title}}</a></li>
                {% endfor %}

            {% endif %}

    {% elif widget.params.orderby == '-comments' %}
            {% if widget.params.titlelength > 0 %}

                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title|truncatechars:widget.params.titlelength}}({{postInfo.comments}})</a></li>
                {% endfor %}

            {% else %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title}}({{postInfo.comments}})</a></li>
                {% endfor %}

            {% endif %}

    {% elif widget.params.orderby == '-goods' %}
            {% if widget.params.titlelength > 0 %}

                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title|truncatechars:widget.params.titlelength}}({{postInfo.goods}})</a></li>
                {% endfor %}

            {% else %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title}}({{postInfo.goods}})</a></li>
                {% endfor %}

            {% endif %}

    {% elif widget.params.orderby == '-bads' %}
            {% if widget.params.titlelength > 0 %}

                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title|truncatechars:widget.params.titlelength}}({{postInfo.bads}})</a></li>
                {% endfor %}

            {% else %}
                {% for postInfo in widget.data%}
                <li><a href="{% url 'post' pid=postInfo.id%}">{{postInfo.title}}({{postInfo.bads}})</a></li>
                {% endfor %}

            {% endif %}

    {% endif %}
</ul>
{% endblock %}


