{% extends "widgets/basewidget.html" %}
{% load url from future %}

{% block widgetBody %}
<ul>
    {% if widget.params.orderby == '-createtime'%}
            {% if widget.params.titlelength > 0 %}
                {% for commentInfo in widget.data%}
    <li><a href="{% url commentInfo.obj_type pid=commentInfo.obj_id%}">{{commentInfo.title|truncatechars:widget.params.titlelength}}</a>
        <p>{{commentInfo.content|truncatechars:widget.params.contentlength}}</p>
<span>--{{commentInfo.username}}</span>
    </li>
                {% endfor %}

            {% else %}
                {% for commentInfo in widget.data%}
    <li><a href="{% url commentInfo.obj_type pid=commentInfo.obj_id%}">{{commentInfo.title}}</a>
        <p>{{commentInfo.content|truncatechars:widget.params.contentlength}}</p>
<span>--{{commentInfo.username}}</span>
</li>
                {% endfor %}

            {% endif %}

    {% elif widget.params.orderby == '-goods' %}
            {% if widget.params.titlelength > 0 %}
                {% for commentInfo in widget.data%}
    <li><a href="{% url commentInfo.obj_type pid=commentInfo.obj_id%}">{{commentInfo.title|truncatechars:widget.params.titlelength}}</a>
        <p>{{commentInfo.content|truncatechars:widget.params.contentlength}}</p>
<span>--{{commentInfo.username}}</span>
    </li>
                {% endfor %}

            {% else %}
                {% for commentInfo in widget.data%}
    <li><a href="{% url commentInfo.obj_type pid=commentInfo.obj_id%}">{{commentInfo.title}}</a>
        <p>{{commentInfo.content|truncatechars:widget.params.contentlength}}</p>
<span>--{{commentInfo.username}}</span>
    </li>
                {% endfor %}

            {% endif %}

    {% elif widget.params.orderby == '-bads' %}
            {% if widget.params.titlelength > 0 %}
                {% for commentInfo in widget.data%}
    <li><a href="{% url commentInfo.obj_type pid=commentInfo.obj_id%}">{{commentInfo.title|truncatechars:widget.params.titlelength}}</a>
        <p>{{commentInfo.content|truncatechars:widget.params.contentlength}}</p>
<span>--{{commentInfo.username}}</span>
    </li>
                {% endfor %}

            {% else %}
                {% for commentInfo in widget.data%}
    <li><a href="{% url commentInfo.obj_type pid=commentInfo.obj_id%}">{{commentInfo.title}}</a>
        <p>{{commentInfo.content|truncatechars:widget.params.contentlength}}</p>
<span>--{{commentInfo.username}}</span>
    </li>
                {% endfor %}

            {% endif %}

    {% endif %}
</ul>
{% endblock %}


